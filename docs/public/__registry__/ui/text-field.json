{
  "id": "text-field",
  "dependencies": [
    "@karrotmarket/react-monochrome-icon",
    "@grape_design_react/css",
    "@grape_design_react/react"
  ],
  "snippets": [
    {
      "path": "text-field.tsx",
      "content": "/**\n * @file ui:text-field\n * @requires @grape_design_react/react@~1.1.0\n * @requires @grape_design_react/css@~1.1.0\n **/\n\n\"use client\";\n\nimport * as React from \"react\";\nimport {\n  TextField as SeedTextField,\n  Field as SeedField,\n  type UseTextFieldWithGraphemesParams,\n  useTextFieldWithGraphemes,\n  VisuallyHidden,\n  PrefixIcon,\n} from \"@grape_design_react/react\";\nimport type { FieldLabelVariantProps } from \"@grape_design_react/css/recipes/field-label\";\nimport { IconExclamationmarkCircleFill } from \"@karrotmarket/react-monochrome-icon\";\n\nexport interface TextFieldProps\n  extends Omit<SeedTextField.RootProps, \"prefix\" | \"onValueChange\" | \"asChild\"> {\n  label?: React.ReactNode;\n  /**\n   * @default \"medium\"\n   */\n  labelWeight?: FieldLabelVariantProps[\"weight\"];\n\n  indicator?: React.ReactNode;\n\n  prefixIcon?: React.ReactNode;\n  prefix?: React.ReactNode;\n  suffixIcon?: React.ReactNode;\n  suffix?: React.ReactNode;\n\n  description?: React.ReactNode;\n  errorMessage?: React.ReactNode;\n\n  hideCharacterCount?: boolean;\n  maxGraphemeCount?: number;\n  showRequiredIndicator?: boolean;\n\n  fieldRef?: React.Ref<HTMLDivElement>;\n\n  onValueChange?: UseTextFieldWithGraphemesParams[\"onValueChange\"];\n}\n\n/**\n * @see https://grape_design_react.io/react/components/text-field-input\n */\nexport const TextField = React.forwardRef<HTMLDivElement, TextFieldProps>(\n  (\n    {\n      prefix,\n      prefixIcon,\n      suffix,\n      suffixIcon,\n      label,\n      labelWeight,\n      indicator,\n      description,\n      errorMessage,\n      hideCharacterCount,\n      children,\n\n      // field props\n      required,\n      disabled,\n      invalid,\n      readOnly,\n      name,\n\n      showRequiredIndicator,\n\n      // useTextFieldWithGraphemes params\n      value,\n      onValueChange,\n      maxGraphemeCount,\n\n      fieldRef,\n\n      ...otherProps\n    },\n    ref,\n  ) => {\n    const { textFieldRootProps, counterProps } = useTextFieldWithGraphemes({\n      value,\n      onValueChange,\n      maxGraphemeCount,\n    });\n\n    const renderHeader = label || indicator;\n    const renderDescription = !!description;\n    const renderErrorMessage = errorMessage && invalid;\n    const renderGraphemeCount = !hideCharacterCount && maxGraphemeCount !== undefined;\n    const renderFooter = renderDescription || renderErrorMessage || renderGraphemeCount;\n\n    if (process.env.NODE_ENV !== \"production\" && !label) {\n      console.warn(\n        \"TextField: Provide a `label` prop for better accessibility. Please ignore this warning if you've provided `aria-label` or `aria-labelledby` props to the `TextFieldInput` or `TextFieldTextarea` inside. This warning will not be shown in production builds.\",\n      );\n    }\n\n    return (\n      <SeedField.Root\n        required={required}\n        disabled={disabled}\n        invalid={invalid}\n        readOnly={readOnly}\n        name={name}\n        ref={fieldRef}\n      >\n        {renderHeader && (\n          <SeedField.Header>\n            <SeedField.Label weight={labelWeight}>\n              {label}\n              {showRequiredIndicator && <SeedField.RequiredIndicator />}\n              {indicator && <SeedField.IndicatorText>{indicator}</SeedField.IndicatorText>}\n            </SeedField.Label>\n            {/* You might want to put your custom element here */}\n          </SeedField.Header>\n        )}\n        <SeedTextField.Root ref={ref} {...otherProps} {...textFieldRootProps}>\n          {prefixIcon && <SeedTextField.PrefixIcon svg={prefixIcon} />}\n          {prefix && <SeedTextField.PrefixText>{prefix}</SeedTextField.PrefixText>}\n          {children}\n          {suffix && <SeedTextField.SuffixText>{suffix}</SeedTextField.SuffixText>}\n          {suffixIcon && <SeedTextField.SuffixIcon svg={suffixIcon} />}\n        </SeedTextField.Root>\n        {renderFooter && (\n          <SeedField.Footer>\n            {renderDescription &&\n              (renderErrorMessage ? (\n                <VisuallyHidden asChild>\n                  <SeedField.Description>{description}</SeedField.Description>\n                </VisuallyHidden>\n              ) : (\n                <SeedField.Description>{description}</SeedField.Description>\n              ))}\n            {renderErrorMessage && (\n              <SeedField.ErrorMessage>\n                <PrefixIcon svg={<IconExclamationmarkCircleFill />} />\n                {errorMessage}\n              </SeedField.ErrorMessage>\n            )}\n            {renderGraphemeCount && <SeedField.CharacterCount {...counterProps} />}\n          </SeedField.Footer>\n        )}\n      </SeedField.Root>\n    );\n  },\n);\nTextField.displayName = \"TextField\";\n\nexport interface TextFieldInputProps extends SeedTextField.InputProps {}\n\n/**\n * @see https://grape_design_react.io/react/components/text-field-input\n */\nexport const TextFieldInput = SeedTextField.Input;\n\nexport interface TextFieldTextareaProps extends SeedTextField.TextareaProps {}\n\n/**\n * @see https://grape_design_react.io/react/components/text-field-textarea\n */\nexport const TextFieldTextarea = SeedTextField.Textarea;\n\n/**\n * This file is a snippet from SEED Design, helping you get started quickly with @grape_design_react/* packages.\n * You can extend this snippet however you want.\n */\n",
      "dependencies": {
        "@grape_design_react/react": "~1.1.0",
        "@grape_design_react/css": "~1.1.0"
      }
    }
  ]
}